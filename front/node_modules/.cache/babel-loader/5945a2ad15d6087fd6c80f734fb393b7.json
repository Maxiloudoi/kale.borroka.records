{"ast":null,"code":"import _regeneratorRuntime from\"/home/maxiloud/Project/Perso/kale.borroka.records/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/maxiloud/Project/Perso/kale.borroka.records/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/maxiloud/Project/Perso/kale.borroka.records/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useEffect,useState}from\"react\";import Axios from\"axios\";import{Container,Col,Row,Table,BreadcrumbItem,Breadcrumb}from\"reactstrap\";import{Link,useParams}from\"react-router-dom\";import{withNamespaces}from\"react-i18next\";import YouTube from\"react-youtube\";import ModalBuy from\"./ModalBuy\";import Footer from\"../Footer/Footer\";import style from\"../Styles/details.module.css\";var ArticleDetail=function ArticleDetail(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),article=_useState2[0],setArticle=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var _useParams=useParams(),format=_useParams.format,id=_useParams.id;var _props$location$state=props.location.state,image=_props$location$state.image,name=_props$location$state.name,artiste=_props$location$state.artiste,price=_props$location$state.price;var t=props.t;var url=\"https://api.discogs.com/releases/\".concat(id);var opts={height:\"200\",width:\"400\",playerVars:{autoplay:0}};useEffect(function(){window.scrollTo(0,300);var getInfo=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return Axios.get(url);case 3:data=_context.sent;result=data.data;setArticle(result);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);setIsLoading(true);case 11:_context.prev=11;setIsLoading(false);return _context.finish(11);case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,8,11,14]]);}));return function getInfo(){return _ref.apply(this,arguments);};}();getInfo();},[]);var styles=article.styles,tracklist=article.tracklist,year=article.year,notes=article.notes,labels=article.labels,videos=article.videos;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(Breadcrumb,{className:style.breadCrumb,listTag:\"div\",children:[/*#__PURE__*/_jsx(BreadcrumbItem,{tag:Link,to:\"/\",children:\"KALE BORROKA RECORDS\"}),/*#__PURE__*/_jsx(BreadcrumbItem,{tag:Link,to:\"/\".concat(format),children:format}),/*#__PURE__*/_jsxs(BreadcrumbItem,{active:true,tag:\"span\",children:[artiste,\" - \",name]})]}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"h2\",{className:style.title,children:[artiste,\" - \",name]})})}),/*#__PURE__*/_jsx(\"hr\",{className:style.hr}),/*#__PURE__*/_jsxs(Row,{className:style.postionTop,children:[/*#__PURE__*/_jsxs(Col,{className:style.top,xs:12,lg:6,children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(\"h5\",{children:styles&&styles.join(\" \")})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(\"h4\",{className:style.year,children:year})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(\"div\",{className:style.badge,children:/*#__PURE__*/_jsxs(\"p\",{className:style.price,children:[\"\".concat(t(\"prix\")),\"\".concat(t(price))]})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(ModalBuy,{image:image,price:\"\".concat(t(\"prix\"),\": \").concat(t(\"\".concat(price))),id:id,fullname:\"\".concat(artiste,\" - \").concat(name)})}),/*#__PURE__*/_jsx(Row,{className:\"mt-5 justify-content-center\",children:/*#__PURE__*/_jsx(\"h6\",{children:notes})})]}),/*#__PURE__*/_jsx(Col,{className:style.top,xs:12,sm:6,lg:6,children:/*#__PURE__*/_jsx(\"img\",{src:image,alt:id,width:\"350px\",className:\"mb-3 float-right\"})})]}),/*#__PURE__*/_jsx(Row,{className:style.label,children:labels&&labels.map(function(item,index){return/*#__PURE__*/_jsx(Col,{xs:12,lg:3,className:style.badgeLabel,children:/*#__PURE__*/_jsx(\"p\",{className:style.name,children:item.name})},index);})}),/*#__PURE__*/_jsx(Row,{className:style.label,children:/*#__PURE__*/_jsx(Col,{xs:12,lg:10,children:/*#__PURE__*/_jsxs(Table,{responsive:true,className:\"table table-striped table-dark \",width:\"300px\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{children:t(\"titre\")})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:tracklist&&tracklist.map(function(item,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"th\",{children:[item.position,\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[item.title,\" \"]})]},index);})})]})})}),/*#__PURE__*/_jsx(\"hr\",{className:style.hr}),/*#__PURE__*/_jsx(Row,{className:style.label,children:videos&&videos.map(function(item,index){var uriId=item.uri.split(\"=\")[1];return/*#__PURE__*/_jsx(\"div\",{className:style.video,children:/*#__PURE__*/_jsx(Col,{lg:2,className:style.video,children:/*#__PURE__*/_jsx(YouTube,{videoId:uriId,opts:opts})})},index);}).slice(0,3)})]}),/*#__PURE__*/_jsx(Footer,{})]});};export default withNamespaces()(ArticleDetail);","map":{"version":3,"sources":["/home/maxiloud/Project/Perso/kale.borroka.records/src/components/PageShop/ArticleDetail.jsx"],"names":["React","useEffect","useState","Axios","Container","Col","Row","Table","BreadcrumbItem","Breadcrumb","Link","useParams","withNamespaces","YouTube","ModalBuy","Footer","style","ArticleDetail","props","article","setArticle","isLoading","setIsLoading","format","id","location","state","image","name","artiste","price","t","url","opts","height","width","playerVars","autoplay","window","scrollTo","getInfo","get","data","result","styles","tracklist","year","notes","labels","videos","breadCrumb","title","hr","postionTop","top","join","badge","label","map","item","index","badgeLabel","position","uriId","uri","split","video","slice"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Axios from \"axios\";\nimport {\n  Container,\n  Col,\n  Row,\n  Table,\n  BreadcrumbItem,\n  Breadcrumb,\n} from \"reactstrap\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { withNamespaces } from \"react-i18next\";\nimport YouTube from \"react-youtube\";\nimport ModalBuy from \"./ModalBuy\";\nimport Footer from \"../Footer/Footer\";\nimport style from \"../Styles/details.module.css\";\n\nconst ArticleDetail = (props) => {\n  const [article, setArticle] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const { format, id } = useParams();\n  const { image, name, artiste, price } = props.location.state;\n  const { t } = props;\n  const url = `https://api.discogs.com/releases/${id}`;\n  const opts = {\n    height: \"200\",\n    width: \"400\",\n    playerVars: {\n      autoplay: 0,\n    },\n  };\n  useEffect(() => {\n    window.scrollTo(0, 300);\n    const getInfo = async () => {\n      try {\n        const data = await Axios.get(url);\n        const result = data.data;\n        setArticle(result);\n      } catch (err) {\n        setIsLoading(true);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    getInfo();\n  }, []);\n  const { styles, tracklist, year, notes, labels, videos } = article;\n  return (\n    <div>\n      <Container>\n        <Breadcrumb className={style.breadCrumb} listTag=\"div\">\n          <BreadcrumbItem tag={Link} to={\"/\"}>\n            KALE BORROKA RECORDS\n          </BreadcrumbItem>\n          <BreadcrumbItem tag={Link} to={`/${format}`}>\n            {format}\n          </BreadcrumbItem>\n          <BreadcrumbItem active tag=\"span\">\n            {artiste} - {name}\n          </BreadcrumbItem>\n        </Breadcrumb>\n        <Row>\n          <Col>\n            <h2 className={style.title}>\n              {artiste} - {name}\n            </h2>\n          </Col>\n        </Row>\n        <hr className={style.hr} />\n        <Row className={style.postionTop}>\n          <Col className={style.top} xs={12} lg={6}>\n            <Row>\n              <h5>{styles && styles.join(\" \")}</h5>\n            </Row>\n            <Row>\n              <h4 className={style.year}>{year}</h4>\n            </Row>\n            <Row>\n              <div className={style.badge}>\n                <p className={style.price}>\n                  {`${t(\"prix\")}`}\n                  {`${t(price)}`}\n                </p>\n              </div>\n            </Row>\n            <Row>\n              <ModalBuy\n                image={image}\n                price={`${t(\"prix\")}: ${t(`${price}`)}`}\n                id={id}\n                fullname={`${artiste} - ${name}`}\n              />\n            </Row>\n            <Row className=\"mt-5 justify-content-center\">\n              <h6>{notes}</h6>\n            </Row>\n          </Col>\n          <Col className={style.top} xs={12} sm={6} lg={6}>\n            <img\n              src={image}\n              alt={id}\n              width=\"350px\"\n              className=\"mb-3 float-right\"\n            />\n          </Col>\n        </Row>\n        <Row className={style.label}>\n          {labels &&\n            labels.map((item, index) => {\n              return (\n                <Col xs={12} lg={3} className={style.badgeLabel} key={index}>\n                  <p className={style.name}>{item.name}</p>\n                </Col>\n              );\n            })}\n        </Row>\n        <Row className={style.label}>\n          <Col xs={12} lg={10}>\n            <Table\n              responsive\n              className=\"table table-striped table-dark \"\n              width=\"300px\"\n            >\n              <thead>\n                <tr>\n                  <th>#</th>\n                  <th>{t(\"titre\")}</th>\n                </tr>\n              </thead>\n              <tbody>\n                {tracklist &&\n                  tracklist.map((item, index) => {\n                    return (\n                      <tr key={index}>\n                        <th>{item.position} </th>\n                        <td>{item.title} </td>\n                      </tr>\n                    );\n                  })}\n              </tbody>\n            </Table>\n          </Col>\n        </Row>\n        <hr className={style.hr} />\n        <Row className={style.label}>\n          {videos &&\n            videos\n              .map((item, index) => {\n                const uriId = item.uri.split(\"=\")[1];\n                return (\n                  <div className={style.video} key={index}>\n                    <Col lg={2} className={style.video}>\n                      <YouTube videoId={uriId} opts={opts} />\n                    </Col>\n                  </div>\n                );\n              })\n              .slice(0, 3)}\n        </Row>\n      </Container>\n      <Footer />\n    </div>\n  );\n};\nexport default withNamespaces()(ArticleDetail);\n"]},"metadata":{},"sourceType":"module"}